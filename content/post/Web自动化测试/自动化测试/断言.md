# 断言

# 关于 “断言”

**断言，就是用代码来判断“实际发生的结果”是否等于“我们要的预期结果”**

断言是能区分自动化测试和`print`方式的打日志的区别，举个栗子：

写了一个脚本去测试“登录功能”：

1. 输入用户名。
2. 输入密码。
3. 点击登录。
4. 脚本运行结束，没有报错。

这就代表测试通过了吗？这是不一定的

- 也许点击登录后，页面弹出了“服务器内部错误”？
- 也许账号被封禁，页面提示“禁止登录”？
- 也许页面根本没跳转，还在原地？

如果你的代码里没有检查这些情况，脚本跑完了告诉你 `Success`​，这其实是​**假成功**。

**断言的作用**就是在这里声明——“让我看看现在的页面标题是不是‘个人中心’？如果不是，直接报错”

## 断言的写法

### 1. 错误的写法（常见错误）

用 `if-else` 来打印结果，这是不专业的

```
String actualTitle = driver.getTitle();
// ❌ 这不叫自动化测试，这只是打印日志
if ("百度一下，你就知道".equals(actualTitle)) {
    System.out.println("测试通过");
} else {
    System.out.println("测试失败");
}
```

### 2. 正确的写法（JUnit 标准）

我们需要引入 JUnit 的 `Assertions` 类。如果结果不对，它会直接抛出异常，让测试变报错

```
import org.junit.jupiter.api.Assertions; // JUnit 5 的断言类

// 1. 获取实际结果 (Browser Action)
String actualTitle = driver.getTitle(); 
String expectedTitle = "百度一下，你就知道";

// 2. 执行断言
// 语义：我断定 actual 必须等于 expected，否则报错并输出提示信息
Assertions.assertEquals(expectedTitle, actualTitle, "页面标题不匹配！");
```

### 常见断言场景

以上面举的栗子来说明具体的应用场景

- **断言标题（检查页面跳转是否正确）**

  - ​**方法**​：`driver.getTitle()`
  - ​**代码**​：`Assertions.assertEquals("首页", driver.getTitle());`
- **断言 URL（检查是否被重定向）**

  - ​**方法**​：`driver.getCurrentUrl()`
  - ​**代码**​：`Assertions.assertTrue(driver.getCurrentUrl().contains("/login/success"));`
- **断言元素文本（检查业务逻辑）**

  - ​**方法**​：`element.getText()`
  - ​**代码**​：`Assertions.assertEquals("登录失败，密码错误", errorMsgElement.getText());`

## 总结

**没有断言的自动化脚本，就像没有裁判的足球比赛，跑得再热闹也没有输赢**

‍
